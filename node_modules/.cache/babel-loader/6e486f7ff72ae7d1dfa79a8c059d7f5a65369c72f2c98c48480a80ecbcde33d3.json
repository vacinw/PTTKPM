{"ast":null,"code":"import { v4 as uuidv4 } from \"uuid\";\nconst initState = [{\n  id: 1,\n  username: \"anchay\",\n  liked: [],\n  password: \"avc\",\n  diet: null\n}, {\n  id: 2,\n  username: \"toitenho\",\n  diet: null,\n  liked: [],\n  password: \"123\"\n}, {\n  id: 3,\n  username: \"ranhmanh\",\n  liked: [],\n  password: \"1234\",\n  diet: null\n}, {\n  username: \"toitenlatho\",\n  liked: [],\n  password: \"ddv\",\n  diet: \"null\",\n  id: 4\n}, {\n  username: \"toikhongdu\",\n  liked: [],\n  password: \"ranhmanh\",\n  diet: \"null\",\n  id: 5\n}, {\n  username: \"anman\",\n  liked: [],\n  password: \"012\",\n  diet: \"null\",\n  id: 6\n}, {\n  username: \"ancutgi\",\n  password: \"cuchinh\",\n  liked: [],\n  diet: \"null\",\n  id: 7\n}, {\n  username: \"djtcu\",\n  password: \"111\",\n  diet: \"null\",\n  liked: [],\n  id: 8\n}, {\n  username: \"anho\",\n  password: \"anho\",\n  diet: \"null\",\n  liked: [],\n  id: 9\n}];\nconst usersReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"users/updatePasswordChange\":\n      return state.map(user => user.id === action.payload.id ? {\n        ...user,\n        password: action.payload.newPassword\n      } : user);\n    case \"users/addUserChange\":\n      return [...state, {\n        username: action.payload.username,\n        password: action.payload.password,\n        diet: \"null\",\n        liked: [],\n        id: uuidv4()\n      }];\n    case \"users/toggleUserLikeChange\":\n      return state.map(user => {\n        if (user.id !== action.payload.userId) {\n          return user;\n        } else if (!user.liked.includes(action.payload.foodId)) {\n          return {\n            ...user,\n            liked: [...user.liked, action.payload.foodId]\n          };\n        } else {\n          return {\n            ...user,\n            liked: user.liked.filter(foodId => foodId !== action.payload.foodId)\n          };\n        }\n      });\n    default:\n      return state;\n  }\n};\nexport default usersReducer;","map":{"version":3,"names":["v4","uuidv4","initState","id","username","liked","password","diet","usersReducer","state","action","type","map","user","payload","newPassword","userId","includes","foodId","filter"],"sources":["/Users/Tamhayhoc/react-webpack/EasyCuk/src/components/pages/forms/usersSlice.js"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\n\nconst initState = [\n  {\n    id: 1,\n    username: \"anchay\",\n    liked: [],\n    password: \"avc\",\n    diet: null,\n  },\n  {\n    id: 2,\n    username: \"toitenho\",\n    diet: null,\n    liked: [],\n    password: \"123\",\n  },\n  {\n    id: 3,\n    username: \"ranhmanh\",\n    liked: [],\n    password: \"1234\",\n    diet: null,\n  },\n  {\n    username: \"toitenlatho\",\n    liked: [],\n    password: \"ddv\",\n    diet: \"null\",\n    id: 4,\n  },\n  {\n    username: \"toikhongdu\",\n    liked: [],\n    password: \"ranhmanh\",\n    diet: \"null\",\n    id: 5,\n  },\n  {\n    username: \"anman\",\n    liked: [],\n    password: \"012\",\n    diet: \"null\",\n    id: 6,\n  },\n  {\n    username: \"ancutgi\",\n    password: \"cuchinh\",\n    liked: [],\n    diet: \"null\",\n    id: 7,\n  },\n  {\n    username: \"djtcu\",\n    password: \"111\",\n    diet: \"null\",\n    liked: [],\n    id: 8,\n  },\n  {\n    username: \"anho\",\n    password: \"anho\",\n    diet: \"null\",\n    liked: [],\n    id: 9,\n  },\n];\n\nconst usersReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"users/updatePasswordChange\":\n      return state.map((user) =>\n        user.id === action.payload.id\n          ? { ...user, password: action.payload.newPassword }\n          : user\n      );\n    case \"users/addUserChange\":\n      return [\n        ...state,\n        {\n          username: action.payload.username,\n          password: action.payload.password,\n          diet: \"null\",\n          liked: [],\n          id: uuidv4(),\n        },\n      ];\n    case \"users/toggleUserLikeChange\":\n      return state.map((user) => {\n        if (user.id !== action.payload.userId) {\n          return user;\n        } else if (!user.liked.includes(action.payload.foodId)) {\n          return {\n            ...user,\n            liked: [...user.liked, action.payload.foodId],\n          };\n        } else {\n          return {\n            ...user,\n            liked: user.liked.filter(\n              (foodId) => foodId !== action.payload.foodId\n            ),\n          };\n        }\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default usersReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}