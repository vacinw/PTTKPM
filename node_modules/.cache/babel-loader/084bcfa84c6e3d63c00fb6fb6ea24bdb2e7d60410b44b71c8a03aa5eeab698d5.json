{"ast":null,"code":"var _jsxFileName = \"/Users/tamnguyen/EasyCuk/EasyCuk/src/components/Container/TodoItem/TodoItem.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState, useCallback, memo } from \"react\";\nimport { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen, faSave, faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\nimport { ThemeContext } from \"../../../App\";\nimport classNames from \"classnames/bind\";\nimport styles from \"./TodoItem.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\nfunction TodoItem({\n  content,\n  id,\n  todoList,\n  setTodoList\n}) {\n  _s();\n  const [theme] = useContext(ThemeContext);\n  const [valueChange, setValueChange] = useState(content);\n  const [checked, setChecked] = useState(false);\n  const valueChangeRef = useRef();\n  const handleValueChange = e => setValueChange(e.target.value);\n\n  // PUT\n  const handleUpdate = id => {\n    setChecked(checked => !checked);\n    if (!checked) return;\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        content: valueChangeRef.current.value\n      })\n    };\n    fetch('http://localhost:3000/todos' + '/' + id, options).then(res => res.json()).then(data => {\n      if (!data.content.trim()) {\n        setValueChange('undefined');\n      }\n    });\n  };\n\n  // DELETE\n  const handleDelete = id => {\n    const options = {\n      method: 'DELETE'\n    };\n    fetch('http://localhost:3000/todos' + '/' + id, options).then(res => res.json()).then(() => {\n      const newTodoList = todoList.filter(current => current.id !== id);\n      setTodoList(() => newTodoList);\n    });\n  };\n  useEffect(() => {\n    if (checked) valueChangeRef.current.focus();\n  }, [checked]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx('todo-block', theme),\n    children: [!checked && /*#__PURE__*/_jsxDEV(\"li\", {\n      className: cx('todo-item'),\n      children: valueChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), checked && /*#__PURE__*/_jsxDEV(\"input\", {\n      className: cx('todo-item', 'change'),\n      ref: valueChangeRef,\n      value: valueChange,\n      placeholder: \"Change a todo...\",\n      onChange: handleValueChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: cx('update-btn', '-btn', theme),\n      onClick: () => handleUpdate(id),\n      children: [!checked && /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faPen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 30\n      }, this), checked && /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faSave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: cx('delete-btn', '-btn', theme),\n      onClick: () => handleDelete(id),\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faTrashCan\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(TodoItem, \"cLr4zCX2ekIuNRvu5o21XKkVpkA=\");\n_c = TodoItem;\nexport default _c2 = /*#__PURE__*/memo(TodoItem);\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoItem\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["useEffect","useRef","useState","useCallback","memo","useContext","FontAwesomeIcon","faPen","faSave","faTrashCan","ThemeContext","classNames","styles","jsxDEV","_jsxDEV","cx","bind","TodoItem","content","id","todoList","setTodoList","_s","theme","valueChange","setValueChange","checked","setChecked","valueChangeRef","handleValueChange","e","target","value","handleUpdate","options","method","headers","body","JSON","stringify","current","fetch","then","res","json","data","trim","handleDelete","newTodoList","filter","focus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","placeholder","onChange","onClick","icon","_c","_c2","$RefreshReg$"],"sources":["/Users/tamnguyen/EasyCuk/EasyCuk/src/components/Container/TodoItem/TodoItem.js"],"sourcesContent":["import { useEffect, useRef, useState, useCallback, memo } from \"react\";\nimport { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen, faSave, faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { ThemeContext } from \"~/App\";\n\nimport classNames from \"classnames/bind\";\nimport styles from './TodoItem.module.scss';\n\nconst cx = classNames.bind(styles);\n\nfunction TodoItem({ content, id, todoList, setTodoList }) {\n\n    const [theme] = useContext(ThemeContext)\n\n    const [valueChange, setValueChange] = useState(content)\n\n    const [checked, setChecked] = useState(false)\n\n    const valueChangeRef = useRef()\n\n    const handleValueChange = e => setValueChange(e.target.value)\n\n    // PUT\n    const handleUpdate = (id) => {\n\n        setChecked(checked => !checked)\n\n        if (!checked)\n            return\n\n        const options = {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ content: valueChangeRef.current.value })\n        };\n\n        fetch('http://localhost:3000/todos' + '/' + id, options)\n            .then(res => res.json())\n            .then(data => {\n                if (!data.content.trim()) {\n                    setValueChange('undefined')\n                }\n            })\n    }\n\n    // DELETE\n    const handleDelete = (id) => {\n\n        const options = {\n            method: 'DELETE'\n        };\n\n        fetch('http://localhost:3000/todos' + '/' + id, options)\n            .then(res => res.json())\n            .then(() => {\n                const newTodoList = todoList.filter((current) => (current.id !== id));\n                setTodoList(() => newTodoList);\n            })\n    }\n\n    useEffect(() => {\n        if (checked)\n            valueChangeRef.current.focus();\n    }, [checked])\n\n    return (\n        <div className={cx('todo-block', theme)}>\n            {!checked &&\n                <li className={cx('todo-item')}>{valueChange}</li>\n            }\n            {checked &&\n                <input\n                    className={cx('todo-item', 'change')}\n                    ref={valueChangeRef}\n                    value={valueChange}\n                    placeholder='Change a todo...'\n                    onChange={handleValueChange}\n                />\n            }\n            <button\n                className={cx('update-btn', '-btn', theme)}\n                onClick={() => handleUpdate(id)}\n\n            >\n                {!checked && <FontAwesomeIcon icon={faPen} />}\n                {checked && <FontAwesomeIcon icon={faSave} />}\n            </button>\n            <button\n                className={cx('delete-btn', '-btn', theme)}\n                onClick={() => handleDelete(id)}\n            >\n                <FontAwesomeIcon icon={faTrashCan} />\n            </button>\n        </div>\n    );\n}\n\nexport default memo(TodoItem);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}