{"ast":null,"code":"import { FETCH_USERS_REQUEST, FETCH_USERS_SUCESS, FETCH_USERS_ERROR, UPDATE_USERS_REQUEST, UPDATE_USERS_SUCESS, UPDATE_USERS_ERROR } from \"../constants/usersConstants\";\nexport const loadUsers = () => async dispath => {\n  try {\n    dispath({\n      type: FETCH_USERS_REQUEST\n    });\n    const url = \"http://localhost:3000/users\";\n    const res = await fetch(url);\n    const data = await res.json();\n    dispath({\n      type: FETCH_USERS_SUCESS,\n      data\n    });\n  } catch (err) {\n    dispath({\n      type: FETCH_USERS_ERROR,\n      message: err\n    });\n  }\n};\nexport const updateUser = (user, data) => async dispath => {\n  try {\n    dispath({\n      type: UPDATE_USERS_REQUEST\n    });\n    const url = \"http://localhost:3000/users\";\n    const userId = user.id;\n    const updateData = {\n      ...user,\n      password: data.newPassword\n    };\n    const res = await fetch(url + \"/\" + userId, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(updateData)\n    });\n    const resJson = await res.json();\n    dispath({\n      type: UPDATE_USERS_SUCESS,\n      resJson\n    });\n  } catch (err) {\n    dispath({\n      type: UPDATE_USERS_ERROR,\n      message: err\n    });\n  }\n};","map":{"version":3,"names":["FETCH_USERS_REQUEST","FETCH_USERS_SUCESS","FETCH_USERS_ERROR","UPDATE_USERS_REQUEST","UPDATE_USERS_SUCESS","UPDATE_USERS_ERROR","loadUsers","dispath","type","url","res","fetch","data","json","err","message","updateUser","user","userId","id","updateData","password","newPassword","method","headers","body","JSON","stringify","resJson"],"sources":["/Users/Tamhayhoc/react-webpack/EasyCuk/src/redux/actions/usersAction.js"],"sourcesContent":["import {\n  FETCH_USERS_REQUEST,\n  FETCH_USERS_SUCESS,\n  FETCH_USERS_ERROR,\n  UPDATE_USERS_REQUEST,\n  UPDATE_USERS_SUCESS,\n  UPDATE_USERS_ERROR,\n} from \"../constants/usersConstants\";\n\nexport const loadUsers = () => async (dispath) => {\n  try {\n    dispath({ type: FETCH_USERS_REQUEST });\n\n    const url = \"http://localhost:3000/users\";\n    const res = await fetch(url);\n    const data = await res.json();\n\n    dispath({ type: FETCH_USERS_SUCESS, data });\n  } catch (err) {\n    dispath({ type: FETCH_USERS_ERROR, message: err });\n  }\n};\n\nexport const updateUser = (user, data) => async (dispath) => {\n  try {\n    dispath({ type: UPDATE_USERS_REQUEST });\n\n    const url = \"http://localhost:3000/users\";\n    const userId = user.id;\n    const updateData = { ...user, password: data.newPassword };\n    const res = await fetch(url + \"/\" + userId, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(updateData),\n    });\n    const resJson = await res.json();\n\n    dispath({ type: UPDATE_USERS_SUCESS, resJson });\n  } catch (err) {\n    dispath({ type: UPDATE_USERS_ERROR, message: err });\n  }\n};\n"],"mappings":"AAAA,SACEA,mBAAmB,EACnBC,kBAAkB,EAClBC,iBAAiB,EACjBC,oBAAoB,EACpBC,mBAAmB,EACnBC,kBAAkB;AAGpB,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM,MAAOC,OAAO,IAAK;EAChD,IAAI;IACFA,OAAO,CAAC;MAAEC,IAAI,EAAER;IAAoB,CAAC,CAAC;IAEtC,MAAMS,GAAG,GAAG,6BAA6B;IACzC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;IAC5B,MAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAE7BN,OAAO,CAAC;MAAEC,IAAI,EAAEP,kBAAkB;MAAEW;IAAK,CAAC,CAAC;EAC7C,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZP,OAAO,CAAC;MAAEC,IAAI,EAAEN,iBAAiB;MAAEa,OAAO,EAAED;IAAI,CAAC,CAAC;EACpD;AACF,CAAC;AAED,OAAO,MAAME,UAAU,GAAGA,CAACC,IAAI,EAAEL,IAAI,KAAK,MAAOL,OAAO,IAAK;EAC3D,IAAI;IACFA,OAAO,CAAC;MAAEC,IAAI,EAAEL;IAAqB,CAAC,CAAC;IAEvC,MAAMM,GAAG,GAAG,6BAA6B;IACzC,MAAMS,MAAM,GAAGD,IAAI,CAACE,EAAE;IACtB,MAAMC,UAAU,GAAG;MAAE,GAAGH,IAAI;MAAEI,QAAQ,EAAET,IAAI,CAACU;IAAY,CAAC;IAC1D,MAAMZ,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,GAAG,GAAG,GAAGS,MAAM,EAAE;MAC1CK,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,UAAU;IACjC,CAAC,CAAC;IACF,MAAMQ,OAAO,GAAG,MAAMlB,GAAG,CAACG,IAAI,CAAC,CAAC;IAEhCN,OAAO,CAAC;MAAEC,IAAI,EAAEJ,mBAAmB;MAAEwB;IAAQ,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOd,GAAG,EAAE;IACZP,OAAO,CAAC;MAAEC,IAAI,EAAEH,kBAAkB;MAAEU,OAAO,EAAED;IAAI,CAAC,CAAC;EACrD;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}